<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Báo cáo Đăng ký - Admin</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #073b3a;
        --secondary: #cbcd30;
        --text: #030e0f;
        --light: #f2f3f3;
        --white: #ffffff;
        --gray: #64748b;
        --border: #e2e8f0;
        --sidebar-width: 260px;
      }
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }
      body {
        font-family: "Inter", sans-serif;
        background: #f8fafc;
        color: var(--text);
        display: flex;
        min-height: 100vh;
      }

      /* Sidebar */
      .sidebar {
        width: var(--sidebar-width);
        background: var(--primary);
        color: var(--white);
        display: flex;
        flex-direction: column;
        position: fixed;
        height: 100vh;
        left: 0;
        top: 0;
      }
      .sidebar-header {
        height: 64px;
        display: flex;
        align-items: center;
        padding: 0 24px;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      }
      .sidebar-header h2 {
        font-size: 20px;
        font-weight: 700;
        color: var(--secondary);
      }
      .nav-links {
        padding: 24px 16px;
        flex: 1;
      }
      .nav-item {
        display: flex;
        align-items: center;
        gap: 12px;
        padding: 12px 16px;
        color: #94a3b8;
        text-decoration: none;
        border-radius: 8px;
        margin-bottom: 4px;
        transition: all 0.2s;
      }
      .nav-item:hover,
      .nav-item.active {
        background: rgba(255, 255, 255, 0.1);
        color: var(--white);
      }
      .nav-item span {
        font-weight: 500;
      }

      /* Main Content */
      .main-content {
        margin-left: var(--sidebar-width);
        flex: 1;
        display: flex;
        flex-direction: column;
      }

      /* Top Header */
      .header {
        height: 64px;
        background: var(--white);
        border-bottom: 1px solid var(--border);
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 32px;
      }
      .page-title {
        font-size: 20px;
        font-weight: 600;
      }
      .user-profile {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .user-avatar {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        object-fit: cover;
      }

      /* Content Area */
      .content {
        padding: 32px;
      }

      .actions-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 24px;
        background: var(--white);
        padding: 16px;
        border-radius: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
      }

      .filters {
        display: flex;
        gap: 16px;
        align-items: center;
      }

      .filter-group {
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .form-control {
        padding: 8px 12px;
        border: 1px solid var(--border);
        border-radius: 6px;
        font-size: 14px;
        font-family: inherit;
      }

      .btn {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 10px 20px;
        border-radius: 8px;
        font-weight: 600;
        text-decoration: none;
        cursor: pointer;
        border: none;
        font-size: 14px;
        transition: all 0.2s;
      }
      .btn-primary {
        background: var(--primary);
        color: var(--white);
      }
      .btn-primary:hover {
        background: #052b2a;
      }
      .btn-outline {
        border: 1px solid var(--border);
        background: transparent;
        color: var(--text);
      }

      /* Table Styles */
      .table-container {
        background: var(--white);
        border-radius: 12px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        overflow: hidden;
      }
      table {
        width: 100%;
        border-collapse: collapse;
      }
      th {
        background: #f8fafc;
        text-align: left;
        padding: 16px 24px;
        font-weight: 600;
        color: var(--gray);
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        border-bottom: 1px solid var(--border);
      }
      td {
        padding: 16px 24px;
        border-bottom: 1px solid var(--border);
        color: var(--text);
        font-size: 14px;
      }
      tr:last-child td {
        border-bottom: none;
      }

      .property-cell {
        display: flex;
        align-items: center;
        gap: 12px;
      }
      .property-thumb {
        width: 48px;
        height: 48px;
        border-radius: 6px;
        object-fit: cover;
      }
      .property-info h4 {
        font-weight: 500;
        font-size: 14px;
        margin-bottom: 2px;
        color: var(--text);
      }
      .property-info p {
        color: var(--gray);
        font-size: 12px;
      }

      .customer-info h4 {
        font-weight: 500;
        font-size: 14px;
        margin-bottom: 2px;
      }
      .customer-info p {
        color: var(--gray);
        font-size: 12px;
      }

      .status-badge {
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 12px;
        font-weight: 600;
        white-space: nowrap;
      }
      .status-pending {
        background: #fef9c3;
        color: #854d0e;
      }
      .status-confirmed {
        background: #dcfce7;
        color: #166534;
      }
      .status-cancelled {
        background: #fee2e2;
        color: #991b1b;
      }

      .action-btns {
        display: flex;
        gap: 8px;
      }
      .btn-icon {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: 6px;
        color: var(--gray);
        border: 1px solid var(--border);
        background: white;
        cursor: pointer;
      }
      .btn-icon:hover {
        background: #f1f5f9;
        color: var(--primary);
      }
      .btn-icon.approve:hover {
        background: #dcfce7;
        color: #166534;
        border-color: #bbf7d0;
      }
      .btn-icon.reject:hover {
        background: #fee2e2;
        color: #991b1b;
        border-color: #fecaca;
      }

      .tabs {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
        border-bottom: 1px solid var(--border);
      }
      .tab {
        padding: 12px 0;
        color: var(--gray);
        font-weight: 500;
        cursor: pointer;
        border-bottom: 2px solid transparent;
        text-decoration: none;
      }
      .tab.active {
        color: var(--primary);
        border-bottom-color: var(--primary);
      }
      .tab:hover {
        color: var(--primary);
      }
    </style>
  </head>
  <body>
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h2>HOUSEBOX ADMIN</h2>
      </div>
      <nav class="nav-links">
        <a href="#" class="nav-item">
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <rect x="3" y="3" width="7" height="7"></rect>
            <rect x="14" y="3" width="7" height="7"></rect>
            <rect x="14" y="14" width="7" height="7"></rect>
            <rect x="3" y="14" width="7" height="7"></rect>
          </svg>
          <span>Dashboard</span>
        </a>
        <a href="admin_properties_list.html" class="nav-item">
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M3 21h18v-8a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v8z"></path>
            <path d="M9 10a2 2 0 0 1 2-2h2a2 2 0 0 1 2 2"></path>
          </svg>
          <span>Bất động sản</span>
        </a>
        <a href="#" class="nav-item">
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
            <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>
            <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>
          </svg>
          <span>Khách hàng</span>
        </a>
        <a href="admin_reports_table.html" class="nav-item active">
          <svg
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path
              d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"
            ></path>
            <polyline points="14 2 14 8 20 8"></polyline>
            <line x1="16" y1="13" x2="8" y2="13"></line>
            <line x1="16" y1="17" x2="8" y2="17"></line>
            <polyline points="10 9 9 9 8 9"></polyline>
          </svg>
          <span>Báo cáo</span>
        </a>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <header class="header">
        <h1 class="page-title">Báo cáo đăng ký xem nhà</h1>
        <div class="user-profile">
          <span style="font-size: 14px; font-weight: 500; color: var(--text)"
            >Admin User</span
          >
          <img
            src="https://ui-avatars.com/api/?name=Admin&background=073b3a&color=fff"
            class="user-avatar"
            alt="Admin"
          />
        </div>
      </header>

      <div class="content">
        <div class="tabs">
          <a href="admin_reports_table.html" class="tab active"
            >Danh sách chi tiết</a
          >
          <a href="admin_reports_charts.html" class="tab">Biểu đồ thống kê</a>
        </div>

        <div class="actions-bar">
          <div class="filters">
            <div class="filter-group">
              <label style="font-size: 14px; font-weight: 500">Từ ngày:</label>
              <input type="date" class="form-control" value="2025-12-01" />
            </div>
            <div class="filter-group">
              <label style="font-size: 14px; font-weight: 500">Đến ngày:</label>
              <input type="date" class="form-control" value="2025-12-10" />
            </div>
            <div class="filter-group">
              <select class="form-control">
                <option value="">Tất cả trạng thái</option>
                <option value="pending">Chờ xác nhận</option>
                <option value="confirmed">Đã xác nhận</option>
                <option value="cancelled">Đã hủy</option>
              </select>
            </div>
            <button class="btn btn-primary" style="padding: 8px 16px">
              Lọc
            </button>
          </div>

          <button class="btn btn-outline" style="padding: 8px 16px">
            <svg
              width="16"
              height="16"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
              <polyline points="7 10 12 15 17 10"></polyline>
              <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
            Xuất Excel
          </button>
        </div>

        <div class="table-container">
          <table>
            <thead>
              <tr>
                <th style="width: 50px">#</th>
                <th>Khách hàng</th>
                <th>Bất động sản quan tâm</th>
                <th>Ngày đăng ký</th>
                <th>Trạng thái</th>
                <th style="text-align: right">Thao tác</th>
              </tr>
            </thead>
            <tbody id="reportTableBody">
              <!-- Data will be populated by JavaScript -->
            </tbody>
          </table>
        </div>
      </div>
    </main>

    <script src="report_data.js"></script>
    <script>
      const tableBody = document.getElementById("reportTableBody");

      function getStatusBadge(status) {
        switch (status) {
          case "confirmed":
            return '<span class="status-badge status-confirmed">Đã xác nhận</span>';
          case "pending":
            return '<span class="status-badge status-pending">Chờ xác nhận</span>';
          case "cancelled":
            return '<span class="status-badge status-cancelled">Đã hủy</span>';
          default:
            return "";
        }
      }

      function renderTable(data) {
        tableBody.innerHTML = "";
        data.forEach((item, index) => {
          const row = `
                    <tr>
                        <td style="color: var(--gray);">${(index + 1)
                          .toString()
                          .padStart(2, "0")}</td>
                        <td>
                            <div class="customer-info">
                                <h4>${item.customerName}</h4>
                                <p>${item.phone}</p>
                            </div>
                        </td>
                        <td>
                            <div class="property-cell">
                                <img src="${
                                  item.propertyImage
                                }" class="property-thumb" alt="House">
                                <div class="property-info">
                                    <h4>${item.propertyTitle}</h4>
                                    <p>${item.propertyPrice}</p>
                                </div>
                            </div>
                        </td>
                        <td style="font-size: 13px; color: var(--gray);">
                            ${item.date.split("-").reverse().join("/")}<br>
                            <span style="font-size: 12px; color: #94a3b8;">${
                              item.time
                            }</span>
                        </td>
                        <td>${getStatusBadge(item.status)}</td>
                        <td>
                            <div class="action-btns" style="justify-content: flex-end;">
                                ${
                                  item.status === "pending"
                                    ? `
                                <button class="btn-icon approve" title="Xác nhận">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><polyline points="20 6 9 17 4 12"></polyline></svg>
                                </button>
                                <button class="btn-icon reject" title="Hủy">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
                                </button>
                                `
                                    : `
                                <button class="btn-icon" title="Chi tiết" style="color: var(--primary); border-color: var(--primary);">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"></circle><line x1="12" y1="16" x2="12" y2="12"></line><line x1="12" y1="8" x2="12.01" y2="8"></line></svg>
                                </button>
                                `
                                }
                            </div>
                        </td>
                    </tr>
                `;
          tableBody.insertAdjacentHTML("beforeend", row);
        });
      }

      renderTable(reportData);
    </script>
  </body>
</html>
